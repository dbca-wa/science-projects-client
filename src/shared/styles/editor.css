/**
 * Rich Text Editor Styles
 *
 * CSS styles for the Lexical editor component.
 */

/* Editor container */
.editor-container {
	position: relative;
	width: 100%;
	max-width: 100%;
	overflow: hidden;
	scroll-margin-top: 0;
	scroll-margin-bottom: 0;
}

.editor-input {
	min-height: 150px;
	resize: none;
	font-size: 1rem;
	line-height: 1.5;
	outline: none;
	padding: 1rem;
	padding-left: 3rem; /* Extra space for drag handles */
	caret-color: rgb(17 24 39);
	overflow-x: auto;
	overflow-y: auto;
	max-width: 100%;
	word-wrap: break-word;
	overflow-wrap: break-word;
	scroll-margin-top: 0;
	scroll-margin-bottom: 0;
}

.dark .editor-input {
	caret-color: rgb(243 244 246);
}

.editor-input:focus {
	outline: none;
}

/* Placeholder */
.editor-placeholder {
	position: absolute;
	top: 1rem;
	left: 3rem; /* Align with text, not drag handle area */
	color: rgb(156 163 175);
	pointer-events: none;
	user-select: none;
}

.dark .editor-placeholder {
	color: rgb(107 114 128);
}

/* Paragraph */
.editor-paragraph {
	margin-bottom: 0.5rem;
}

.editor-paragraph:last-child {
	margin-bottom: 0;
}

/* Headings */
.editor-h1 {
	font-size: 1.875rem;
	font-weight: 700;
	margin-bottom: 1rem;
	margin-top: 1.5rem;
}

.editor-h1:first-child {
	margin-top: 0;
}

.editor-h2 {
	font-size: 1.5rem;
	font-weight: 700;
	margin-bottom: 0.75rem;
	margin-top: 1.25rem;
}

.editor-h2:first-child {
	margin-top: 0;
}

.editor-h3 {
	font-size: 1.25rem;
	font-weight: 700;
	margin-bottom: 0.5rem;
	margin-top: 1rem;
}

.editor-h3:first-child {
	margin-top: 0;
}

/* Lists - Base styles */
.editor-ul,
.editor-ol {
	padding: 0;
	margin: 0;
	margin-bottom: 0.5rem;
}

.editor-li {
	font-size: 0.875rem;
	padding: 0;
	margin: 0;
	margin-bottom: 0.25rem;
	list-style-position: outside;
}

.editor-nested-li {
	list-style-type: none;
}

/* Unordered lists - Level 1 (disc) */
.editor-ul1 {
	list-style-type: disc;
	list-style-position: outside;
	margin-left: 2rem;
	padding: 0;
	margin-bottom: 0.5rem;
}

/* Unordered lists - Level 2 (circle) */
.editor-ul2 {
	list-style-type: circle;
	list-style-position: outside;
	margin-left: 1.25rem;
	padding: 0;
	margin-top: 0.25rem;
	margin-bottom: 0.25rem;
}

/* Unordered lists - Level 3 (square) */
.editor-ul3 {
	list-style-type: square;
	list-style-position: outside;
	margin-left: 1.25rem;
	padding: 0;
	margin-top: 0.25rem;
	margin-bottom: 0.25rem;
}

/* Ordered lists - Level 1 (decimal) */
.editor-ol1 {
	list-style-type: decimal;
	list-style-position: outside;
	margin-left: 2rem;
	padding: 0;
	margin-bottom: 0.5rem;
}

/* Ordered lists - Level 2 (lower-alpha) */
.editor-ol2 {
	list-style-type: lower-alpha;
	list-style-position: outside;
	margin-left: 1.25rem;
	padding: 0;
	margin-top: 0.25rem;
	margin-bottom: 0.25rem;
}

/* Ordered lists - Level 3 (lower-roman) */
.editor-ol3 {
	list-style-type: lower-roman;
	list-style-position: outside;
	margin-left: 1.25rem;
	padding: 0;
	margin-top: 0.25rem;
	margin-bottom: 0.25rem;
}

/* Mobile responsive adjustments */
@media (max-width: 640px) {
	.editor-input {
		padding: 0.75rem;
		padding-left: 2rem; /* Reduced drag handle space on mobile */
		font-size: 0.9375rem; /* Slightly smaller text on mobile */
	}

	.editor-placeholder {
		top: 0.75rem;
		left: 2rem;
	}

	/* Reduce list indentation on mobile to prevent overflow */
	.editor-ul1,
	.editor-ol1 {
		margin-left: 1.25rem;
	}

	.editor-ul2,
	.editor-ol2,
	.editor-ul3,
	.editor-ol3 {
		margin-left: 1rem;
	}

	/* Reduce heading sizes on mobile */
	.editor-h1 {
		font-size: 1.5rem;
	}

	.editor-h2 {
		font-size: 1.25rem;
	}

	.editor-h3 {
		font-size: 1.125rem;
	}
}

/* List item markers */
.editor-ul1 li::marker,
.editor-ol1 li::marker,
.editor-ol2 li::marker,
.editor-ol3 li::marker {
	font-weight: 600;
}

/* Extended nesting support (levels 4-12) - pattern repeats */
/* Note: Lexical only supports ulDepth/olDepth arrays up to index 2 (3 classes) */
/* For deeper nesting, we need to handle it differently */

/* Text formatting */
.editor-bold {
	font-weight: 700;
}

.editor-italic {
	font-style: italic;
}

.editor-underline {
	text-decoration: underline;
}

.editor-strikethrough {
	text-decoration: line-through;
}

.editor-subscript {
	vertical-align: sub;
	font-size: 0.75em;
}

.editor-superscript {
	vertical-align: super;
	font-size: 0.75em;
}

.editor-code {
	font-family: ui-monospace, monospace;
	background-color: rgb(243 244 246);
	padding: 0.125rem 0.25rem;
	border-radius: 0.25rem;
	font-size: 0.875rem;
}

.dark .editor-code {
	background-color: rgb(31 41 55);
}

/* Links */
.editor-link {
	color: rgb(37 99 235);
	cursor: pointer;
}

.dark .editor-link {
	color: rgb(96 165 250);
}

.editor-link:hover {
	text-decoration: underline;
}

/* Code blocks */
.editor-code-block {
	background-color: rgb(243 244 246);
	padding: 1rem;
	border-radius: 0.375rem;
	font-family: ui-monospace, monospace;
	font-size: 0.875rem;
	margin-bottom: 0.5rem;
	overflow-x: auto;
}

.dark .editor-code-block {
	background-color: rgb(31 41 55);
}

/* Quotes */
.editor-quote {
	border-left: 4px solid rgb(209 213 219);
	padding-left: 1rem;
	font-style: italic;
	margin-bottom: 0.5rem;
}

.dark .editor-quote {
	border-left-color: rgb(75 85 99);
}

/* Read-only mode */
.editor-readonly {
	border: none;
	background-color: transparent;
	padding: 0;
}

.editor-readonly .editor-input {
	padding: 0;
	padding-left: 0; /* No drag handle space in read-only */
	cursor: default;
}

/* Toolbar */
.editor-toolbar {
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: 0.25rem;
	padding: 0.5rem;
	border-bottom: 1px solid rgb(229 231 235);
	background-color: rgb(249 250 251);
}

.dark .editor-toolbar {
	border-bottom-color: rgb(55 65 81);
	background-color: rgb(17 24 39);
}

.editor-toolbar-button {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	height: 2rem;
	width: 2rem;
	border-radius: 0.25rem;
	transition: background-color 0.15s;
}

.editor-toolbar-button:hover {
	background-color: rgb(229 231 235);
}

.dark .editor-toolbar-button:hover {
	background-color: rgb(55 65 81);
}

.editor-toolbar-button.active {
	background-color: rgb(229 231 235);
}

.dark .editor-toolbar-button.active {
	background-color: rgb(55 65 81);
}

.editor-toolbar-button:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.editor-toolbar-separator {
	width: 1px;
	height: 1.5rem;
	background-color: rgb(209 213 219);
	margin: 0 0.25rem;
}

.dark .editor-toolbar-separator {
	background-color: rgb(75 85 99);
}

/* Word count indicator */
.editor-word-count {
	font-size: 0.875rem;
	color: rgb(107 114 128);
	margin-top: 0.25rem;
}

.dark .editor-word-count {
	color: rgb(156 163 175);
}

.editor-word-count.warning {
	color: rgb(249 115 22);
}

.dark .editor-word-count.warning {
	color: rgb(251 146 60);
}

.editor-word-count.error {
	color: rgb(239 68 68);
}

.dark .editor-word-count.error {
	color: rgb(248 113 113);
}

/* Focus styles */
.editor-container .editor-input:focus {
	outline: none;
}

/* Error state */
.editor-container.error {
	border-color: rgb(239 68 68);
}

.dark .editor-container.error {
	border-color: rgb(248 113 113);
}

/* Disabled state */
.editor-container.disabled {
	opacity: 0.5;
	cursor: not-allowed;
	background-color: rgb(243 244 246);
}

.dark .editor-container.disabled {
	background-color: rgb(31 41 55);
}
